--- pip-8.0.1/pip/commands/install.py	2016-01-21 19:35:08.000000000 +0000
+++ pip-8.0.1/pip/commands/install.py.patch	2016-01-21 20:53:01.500000000 +0000
@@ -145,6 +145,14 @@
                  "folders are placed")
 
         cmd_opts.add_option(
+            '--strip-file-prefix',
+            dest='strip_file_prefix',
+            metavar='prefix',
+            default=None,
+            help="Strip given prefix from script paths in wheel RECORD.",
+        )
+
+        cmd_opts.add_option(
             "--compile",
             action="store_true",
             dest="compile",
@@ -314,6 +322,7 @@
                             install_options,
                             global_options,
                             root=options.root_path,
+                            strip_file_prefix=options.strip_file_prefix,
                             prefix=options.prefix_path,
                         )
                         reqs = sorted(
--- pip-8.0.1/pip/req/req_install.py	2016-01-21 19:35:08.000000000 +0000
+++ pip-8.0.1/pip/req/req_install.py.patch	2016-01-21 21:03:44.485000000 +0000
@@ -838,7 +838,12 @@
             version = pip.wheel.wheel_version(self.source_dir)
             pip.wheel.check_compatibility(version, self.name)
 
-            self.move_wheel_files(self.source_dir, root=root, prefix=prefix)
+            self.move_wheel_files(
+                self.source_dir,
+                root=root,
+                strip_file_prefix=strip_file_prefix,
+                prefix=prefix,
+            )
             self.install_succeeded = True
             return
 
@@ -965,7 +970,7 @@
         self._temp_build_dir = None
 
     def install_editable(self, install_options,
-                         global_options=(), prefix=None):
+                         global_options=(), strip_file_prefix=None, prefix=None):
         logger.info('Running setup.py develop for %s', self.name)
 
         if self.isolated:
@@ -1029,7 +1034,7 @@
     def is_wheel(self):
         return self.link and self.link.is_wheel
 
-    def move_wheel_files(self, wheeldir, root=None, prefix=None):
+    def move_wheel_files(self, wheeldir, root=None, strip_file_prefix=None, prefix=None):
         move_wheel_files(
             self.name, self.req, wheeldir,
             user=self.use_user_site,
@@ -1038,6 +1043,7 @@
             prefix=prefix,
             pycompile=self.pycompile,
             isolated=self.isolated,
+            strip_file_prefix=strip_file_prefix,
         )
 
     def get_dist(self):
--- pip-8.0.1/pip/wheel.py	2016-01-21 19:35:08.000000000 +0000
+++ pip-8.0.1/pip/wheel.py.patch	2016-01-21 21:06:10.340000000 +0000
@@ -237,7 +237,8 @@
 
 
 def move_wheel_files(name, req, wheeldir, user=False, home=None, root=None,
-                     pycompile=True, scheme=None, isolated=False, prefix=None):
+                     pycompile=True, scheme=None, isolated=False,
+                     strip_file_prefix=None, prefix=None):
     """Install a wheel"""
 
     if not scheme:
@@ -519,6 +520,8 @@
                 writer.writerow(row)
             for f in generated:
                 h, l = rehash(f)
+                if strip_file_prefix and f.startswith(strip_file_prefix):
+                    f = os.path.join(os.sep, os.path.relpath(f, strip_file_prefix))
                 writer.writerow((f, h, l))
             for f in installed:
                 writer.writerow((installed[f], '', ''))
